"use strict";function ppnd(t){var e,n,a=2.50662823884,r=-18.61500062529,o=41.39119773534,u=-25.44106049637,i=-8.4735109309,c=23.08336743743,l=-21.06224101826,d=3.13082909833,s=-2.78718931138,f=-2.29796479134,v=4.85014127135,p=2.32121276858,m=3.54388924762,M=1.63706781897,h=.42;return Math.abs(t-.5)<=h?(e=(t-.5)*(t-.5),n=(t-.5)*(((u*e+o)*e+r)*e+a)/((((d*e+l)*e+c)*e+i)*e+1)):0<t&&t<1?(e=.5<t?Math.sqrt(-Math.log(1-t)):Math.sqrt(-Math.log(t)),n=(((p*e+v)*e+f)*e+s)/((M*e+m)*e+1),t<.5&&(n=-n)):n=NaN,n}function calculateNforMDE(t,e,n,a,r){r&&(a*=n);var o=ppnd(1-t/2),u=ppnd(e),i=Math.sqrt(2*n*(1-n)),c=Math.sqrt(n*(1-n)+(n+a)*(1-n-a));return(o*i+u*c)*(o*i+u*c)/(a*a)}function getQueryVariable(t){for(var e=window.location.search.substring(1),n=e.split("&"),a=0;a<n.length;a++){var r=n[a].split("=");if(r[0]==t)return r[1]}return!1}function calculateMDE(t,e){for(var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.05,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8,o=.9999,u=1e-4,i=[],c=0;c<50;c++){n=(u+o)/2;var l=calculateNforMDE(a,r,t,n,!0),d=Math.abs((l-e)/e);if(i.push({mdeGuess:n,calculatedSampleSize:Math.round(l),diff:d}),d<1e-5)break;l>e?u=n:o=n}return console.table(i),n}document.addEventListener("DOMContentLoaded",function(t){var e=document.getElementById("input-submit"),n={conversion:document.getElementById("input-conversion"),traffic:document.getElementById("input-traffic")},a={mde:document.getElementById("output-mde")};e.addEventListener("click",function(){var t=parseFloat(n.conversion.value)/100,e=1e3*parseFloat(n.traffic.value),r=calculateMDE(t,e,.05,.8);a.mde.innerHTML=(100*r).toFixed(2)+"%"})});